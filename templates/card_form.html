{% extends "base.html" %}
{% block content %}
<h2 class="mb-4">{{ 'Edit' if card else 'Add' }} Card</h2>
<form method="post">
  <div class="mb-3">
    <label class="form-label">Name</label>
    <input class="form-control" name="name" value="{{ card[1] if card else '' }}" required>
  </div>
  <div class="mb-3">
    <label class="form-label">Language</label>
    <input class="form-control" name="language" value="{{ card[3] if card else '' }}">
  </div>
  <div class="mb-3">
    <label class="form-label">Condition</label>
    <input class="form-control" name="condition" value="{{ card[4] if card else '' }}">
  </div>
  <div class="mb-3">
    <label class="form-label">Price</label>
    <input type="number" step="0.01" class="form-control" name="price" value="{{ card[5] if card else '' }}">
  </div>
  <div class="mb-3">
    <label class="form-label">Storage Code (optional)</label>
    <input class="form-control" name="storage_code" value="{{ card[6] if card else '' }}">
  </div>
  <div class="mb-3">
    <label class="form-label">Cardmarket ID</label>
    <input class="form-control" name="cardmarket_id" value="{{ card[7] if card else '' }}">
  </div>
  {% if folders is not none %}
  <div class="mb-3">
    <label class="form-label">Folder (Set)</label>
    <select name="folder_id" class="form-select">
      <option value="">-- none --</option>
      {% for f in folders %}
      <option value="{{ f[0] }}" {% if card and card[8]==f[0] %}selected{% endif %}>{{ f[1] }}</option>
      {% endfor %}
    </select>
  </div>
  {% endif %}
  <button type="submit" class="btn btn-primary">Save</button>
</form>
{% endblock %}
